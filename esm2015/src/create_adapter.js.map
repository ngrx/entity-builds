{"version":3,"file":"create_adapter.js","sourceRoot":"ng://@ngrx/entity/","sources":["src/create_adapter.ts"],"names":[],"mappings":";;;;;AAOA,OAAO,EAAE,yBAAyB,EAAE,MAAM,gBAAgB,CAAC;AAC3D,OAAO,EAAE,sBAAsB,EAAE,MAAM,mBAAmB,CAAC;AAC3D,OAAO,EAAE,wBAAwB,EAAE,MAAM,wBAAwB,CAAC;AAClE,OAAO,EAAE,0BAA0B,EAAE,MAAM,0BAA0B,CAAC;;;;;;AAEtE,MAAM,UAAU,mBAAmB,CACjC,UAGI,EAAE;UAEA,EAAE,QAAQ,EAAE,YAAY,EAAE,mBAC9B,YAAY,EAAE,KAAK,EACnB,QAAQ;;;;QAAE,CAAC,QAAa,EAAE,EAAE,CAAC,QAAQ,CAAC,EAAE,KACrC,OAAO,CACX;;UAEK,YAAY,GAAG,yBAAyB,EAAK;;UAC7C,gBAAgB,GAAG,sBAAsB,EAAK;;UAC9C,YAAY,GAAG,YAAY;QAC/B,CAAC,CAAC,wBAAwB,CAAC,QAAQ,EAAE,YAAY,CAAC;QAClD,CAAC,CAAC,0BAA0B,CAAC,QAAQ,CAAC;IAExC,mDACE,QAAQ;QACR,YAAY,IACT,YAAY,GACZ,gBAAgB,GAChB,YAAY,EACf;AACJ,CAAC","sourcesContent":["import { createSelector } from '@ngrx/store';\nimport {\n  EntityDefinition,\n  Comparer,\n  IdSelector,\n  EntityAdapter,\n} from './models';\nimport { createInitialStateFactory } from './entity_state';\nimport { createSelectorsFactory } from './state_selectors';\nimport { createSortedStateAdapter } from './sorted_state_adapter';\nimport { createUnsortedStateAdapter } from './unsorted_state_adapter';\n\nexport function createEntityAdapter<T>(\n  options: {\n    selectId?: IdSelector<T>;\n    sortComparer?: false | Comparer<T>;\n  } = {}\n): EntityAdapter<T> {\n  const { selectId, sortComparer }: EntityDefinition<T> = {\n    sortComparer: false,\n    selectId: (instance: any) => instance.id,\n    ...options,\n  };\n\n  const stateFactory = createInitialStateFactory<T>();\n  const selectorsFactory = createSelectorsFactory<T>();\n  const stateAdapter = sortComparer\n    ? createSortedStateAdapter(selectId, sortComparer)\n    : createUnsortedStateAdapter(selectId);\n\n  return {\n    selectId,\n    sortComparer,\n    ...stateFactory,\n    ...selectorsFactory,\n    ...stateAdapter,\n  };\n}\n"]}