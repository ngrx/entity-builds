/**
 * @license NgRx 6.0.1+42.sha-8f05f1f
 * (c) 2015-2018 Brandon Roberts, Mike Ryan, Rob Wormald, Victor Savkin
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@ngrx/store"),require("@angular/core")):"function"==typeof define&&define.amd?define("@ngrx/entity",["exports","@ngrx/store","@angular/core"],t):t((e.ngrx=e.ngrx||{},e.ngrx.entity={}),e["@ngrx/store"],e.ng.core)}(this,function(e,t,n){"use strict";var r,i,o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};function c(e){return function t(n,i){var u={ids:a(i.ids),entities:o({},i.entities)},c=e(n,u);return c===r.Both?Object.assign({},i,u):c===r.EntitiesOnly?o({},i,{entities:u.entities}):i}}function s(e,t){var r=t(e);return n.isDevMode()&&void 0===r&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),r}(i=r||(r={}))[i.EntitiesOnly=0]="EntitiesOnly",i[i.Both=1]="Both",i[i.None=2]="None";var l=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function f(e){function t(t,n){var i=s(t,e);return i in n.entities?r.None:(n.ids.push(i),n.entities[i]=t,r.Both)}function n(e,n){var i,o,u=!1;try{for(var a=l(e),c=a.next();!c.done;c=a.next())u=t(c.value,n)!==r.None||u}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return u?r.Both:r.None}function i(e,t){var n=e.filter(function(e){return e in t.entities}).map(function(e){return delete t.entities[e]}).length>0;return n&&(t.ids=t.ids.filter(function(e){return e in t.entities})),n?r.Both:r.None}function o(t,n){var i={};return(t=t.filter(function(e){return e.id in n.entities})).length>0?t.filter(function(t){return function r(t,n,i){var o=Object.assign({},i.entities[n.id],n.changes),u=s(o,e),a=u!==n.id;return a&&(t[n.id]=u,delete i.entities[n.id]),i.entities[u]=o,a}(i,t,n)}).length>0?(n.ids=n.ids.map(function(e){return i[e]||e}),r.Both):r.EntitiesOnly:r.None}function u(t,i){var u=[],a=[];try{for(var c=l(t),f=c.next();!f.done;f=c.next()){var d=f.value,h=s(d,e);h in i.entities?a.push({id:h,changes:d}):u.push(d)}}catch(e){v={error:e}}finally{try{f&&!f.done&&(y=c.return)&&y.call(c)}finally{if(v)throw v.error}}var v,y,p=o(a,i),g=n(u,i);switch(!0){case g===r.None&&p===r.None:return r.None;case g===r.Both||p===r.Both:return r.Both;default:return r.EntitiesOnly}}return{removeAll:function a(e){return Object.assign({},e,{ids:[],entities:{}})},addOne:c(t),addMany:c(n),addAll:c(function f(e,t){return t.ids=[],t.entities={},n(e,t),r.Both}),updateOne:c(function d(e,t){return o([e],t)}),updateMany:c(o),upsertOne:c(function h(e,t){return u([e],t)}),upsertMany:c(u),removeOne:c(function v(e,t){return i([e],t)}),removeMany:c(i)}}var d=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};e.createEntityAdapter=function v(e){void 0===e&&(e={});var n=h({sortComparer:!1,selectId:function(e){return e.id}},e),i=n.selectId,o=n.sortComparer,u=function a(){return{getInitialState:function e(t){return void 0===t&&(t={}),Object.assign({ids:[],entities:{}},t)}}}(),l=function v(){return{getSelectors:function e(n){var r=function(e){return e.ids},i=function(e){return e.entities},o=t.createSelector(r,i,function(e,t){return e.map(function(e){return t[e]})}),u=t.createSelector(r,function(e){return e.length});return n?{selectIds:t.createSelector(n,r),selectEntities:t.createSelector(n,i),selectAll:t.createSelector(n,o),selectTotal:t.createSelector(n,u)}:{selectIds:r,selectEntities:i,selectAll:o,selectTotal:u}}}}(),y=o?function p(e,t){var n=f(e);function i(t,n){var i=t.filter(function(t){return!(s(t,e)in n.entities)});return 0===i.length?r.None:(a(i,n),r.Both)}function o(t,n){var i=[],o=t.filter(function(t){return function r(t,n,i){if(!(n.id in i.entities))return!1;var o=Object.assign({},i.entities[n.id],n.changes),u=s(o,e);return delete i.entities[n.id],t.push(o),u!==n.id}(i,t,n)}).length>0;if(0===i.length)return r.None;var u=n.ids,c=[];return n.ids=n.ids.filter(function(e,t){return e in n.entities||(c.push(t),!1)}),a(i,n),!o&&c.every(function(e){return n.ids[e]===u[e]})?r.EntitiesOnly:r.Both}function u(t,n){var u=[],a=[];try{for(var c=d(t),l=c.next();!l.done;l=c.next()){var f=l.value,h=s(f,e);h in n.entities?a.push({id:h,changes:f}):u.push(f)}}catch(e){v={error:e}}finally{try{l&&!l.done&&(y=c.return)&&y.call(c)}finally{if(v)throw v.error}}var v,y,p=o(a,n),g=i(u,n);switch(!0){case g===r.None&&p===r.None:return r.None;case g===r.Both||p===r.Both:return r.Both;default:return r.EntitiesOnly}}function a(n,r){n.sort(t);for(var i=[],o=0,u=0;o<n.length&&u<r.ids.length;){var a=n[o],c=s(a,e),l=r.ids[u];t(a,r.entities[l])<=0?(i.push(c),o++):(i.push(l),u++)}r.ids=i.concat(o<n.length?n.slice(o).map(e):r.ids.slice(u)),n.forEach(function(t,n){r.entities[e(t)]=t})}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:c(function l(e,t){return i([e],t)}),updateOne:c(function h(e,t){return o([e],t)}),upsertOne:c(function v(e,t){return u([e],t)}),addAll:c(function y(e,t){return t.entities={},t.ids=[],i(e,t),r.Both}),addMany:c(i),updateMany:c(o),upsertMany:c(u)}}(i,o):f(i);return h({selectId:i,sortComparer:o},u,l,y)},e.Dictionary=function y(){},Object.defineProperty(e,"__esModule",{value:!0})});