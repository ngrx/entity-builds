/**
 * @license NgRx 6.1.0+69.sha-d9de463
 * (c) 2015-2018 Brandon Roberts, Mike Ryan, Rob Wormald, Victor Savkin
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@ngrx/store"),require("@angular/core")):"function"==typeof define&&define.amd?define("@ngrx/entity",["exports","@ngrx/store","@angular/core"],t):t((e.ngrx=e.ngrx||{},e.ngrx.entity={}),e["@ngrx/store"],e.ng.core)}(this,function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u},u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};function a(e){return function t(n,o){var a={ids:u(o.ids),entities:i({},o.entities)},c=e(n,a);return c===r.Both?Object.assign({},o,a):c===r.EntitiesOnly?i({},o,{entities:a.entities}):o}}function c(e,t){var r=t(e);return n.isDevMode()&&void 0===r&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),r}!function(e){e[e.EntitiesOnly=0]="EntitiesOnly",e[e.Both=1]="Both",e[e.None=2]="None"}(r||(r={}));var s=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function l(e){function t(t,n){var i=c(t,e);return i in n.entities?r.None:(n.ids.push(i),n.entities[i]=t,r.Both)}function n(e,n){var i,o,u=!1;try{for(var a=s(e),c=a.next();!c.done;c=a.next())u=t(c.value,n)!==r.None||u}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return u?r.Both:r.None}function i(e,t){var n=e.filter(function(e){return e in t.entities}).map(function(e){return delete t.entities[e]}).length>0;return n&&(t.ids=t.ids.filter(function(e){return e in t.entities})),n?r.Both:r.None}function o(t,n){var i={};return(t=t.filter(function(e){return e.id in n.entities})).length>0?t.filter(function(t){return function r(t,n,i){var o=Object.assign({},i.entities[n.id],n.changes),u=c(o,e),a=u!==n.id;return a&&(t[n.id]=u,delete i.entities[n.id]),i.entities[u]=o,a}(i,t,n)}).length>0?(n.ids=n.ids.map(function(e){return i[e]||e}),r.Both):r.EntitiesOnly:r.None}function u(t,i){var u=[],a=[];try{for(var l=s(t),f=l.next();!f.done;f=l.next()){var d=f.value,h=c(d,e);h in i.entities?a.push({id:h,changes:d}):u.push(d)}}catch(e){v={error:e}}finally{try{f&&!f.done&&(y=l.return)&&y.call(l)}finally{if(v)throw v.error}}var v,y,p=o(a,i),g=n(u,i);switch(!0){case g===r.None&&p===r.None:return r.None;case g===r.Both||p===r.Both:return r.Both;default:return r.EntitiesOnly}}return{removeAll:function l(e){return Object.assign({},e,{ids:[],entities:{}})},addOne:a(t),addMany:a(n),addAll:a(function f(e,t){return t.ids=[],t.entities={},n(e,t),r.Both}),updateOne:a(function d(e,t){return o([e],t)}),updateMany:a(o),upsertOne:a(function h(e,t){return u([e],t)}),upsertMany:a(u),removeOne:a(function v(e,t){return i([e],t)}),removeMany:a(i)}}var f=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h=function h(){};e.createEntityAdapter=function v(e){void 0===e&&(e={});var n=d({sortComparer:!1,selectId:function(e){return e.id}},e),i=n.selectId,o=n.sortComparer,u=function s(){return{getInitialState:function e(t){return void 0===t&&(t={}),Object.assign({ids:[],entities:{}},t)}}}(),h=function v(){return{getSelectors:function e(n){var r=function(e){return e.ids},i=function(e){return e.entities},o=t.createSelector(r,i,function(e,t){return e.map(function(e){return t[e]})}),u=t.createSelector(r,function(e){return e.length});return n?{selectIds:t.createSelector(n,r),selectEntities:t.createSelector(n,i),selectAll:t.createSelector(n,o),selectTotal:t.createSelector(n,u)}:{selectIds:r,selectEntities:i,selectAll:o,selectTotal:u}}}}(),y=o?function p(e,t){var n=l(e);function i(t,n){var i=t.filter(function(t){return!(c(t,e)in n.entities)});return 0===i.length?r.None:(s(i,n),r.Both)}function o(t,n){var i=[],o=t.filter(function(t){return function r(t,n,i){if(!(n.id in i.entities))return!1;var o=Object.assign({},i.entities[n.id],n.changes),u=c(o,e);return delete i.entities[n.id],t.push(o),u!==n.id}(i,t,n)}).length>0;if(0===i.length)return r.None;var u=n.ids,a=[];return n.ids=n.ids.filter(function(e,t){return e in n.entities||(a.push(t),!1)}),s(i,n),!o&&a.every(function(e){return n.ids[e]===u[e]})?r.EntitiesOnly:r.Both}function u(t,n){var u=[],a=[];try{for(var s=f(t),l=s.next();!l.done;l=s.next()){var d=l.value,h=c(d,e);h in n.entities?a.push({id:h,changes:d}):u.push(d)}}catch(e){v={error:e}}finally{try{l&&!l.done&&(y=s.return)&&y.call(s)}finally{if(v)throw v.error}}var v,y,p=o(a,n),g=i(u,n);switch(!0){case g===r.None&&p===r.None:return r.None;case g===r.Both||p===r.Both:return r.Both;default:return r.EntitiesOnly}}function s(n,r){n.sort(t);for(var i=[],o=0,u=0;o<n.length&&u<r.ids.length;){var a=n[o],s=c(a,e),l=r.ids[u];t(a,r.entities[l])<=0?(i.push(s),o++):(i.push(l),u++)}r.ids=i.concat(o<n.length?n.slice(o).map(e):r.ids.slice(u)),n.forEach(function(t,n){r.entities[e(t)]=t})}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:a(function d(e,t){return i([e],t)}),updateOne:a(function h(e,t){return o([e],t)}),upsertOne:a(function v(e,t){return u([e],t)}),addAll:a(function y(e,t){return t.entities={},t.ids=[],i(e,t),r.Both}),addMany:a(i),updateMany:a(o),upsertMany:a(u)}}(i,o):l(i);return d({selectId:i,sortComparer:o},u,h,y)},e.Dictionary=h,Object.defineProperty(e,"__esModule",{value:!0})});