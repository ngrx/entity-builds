{"version":3,"file":"state_selectors.js","sourceRoot":"ng://@ngrx/entity/","sources":["src/state_selectors.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;;;;;AAG7C,MAAM,UAAU,sBAAsB;;;;;IAKpC,SAAS,YAAY,CACnB,WAA4C;;YAEtC,SAAS;;;;QAAG,UAAC,KAAU,IAAK,OAAA,KAAK,CAAC,GAAG,EAAT,CAAS,CAAA;;YACrC,cAAc;;;;QAAG,UAAC,KAAqB,IAAK,OAAA,KAAK,CAAC,QAAQ,EAAd,CAAc,CAAA;;YAC1D,SAAS,GAAG,cAAc,CAC9B,SAAS,EACT,cAAc;;;;;QACd,UAAC,GAAQ,EAAE,QAAuB;YAChC,OAAA,GAAG,CAAC,GAAG;;;;YAAC,UAAC,EAAO,IAAK,OAAA,CAAC,mBAAA,QAAQ,EAAO,CAAC,CAAC,EAAE,CAAC,EAArB,CAAqB,EAAC;QAA3C,CAA2C,EAC9C;;YAEK,WAAW,GAAG,cAAc,CAAC,SAAS;;;;QAAE,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,MAAM,EAAV,CAAU,EAAC;QAEhE,IAAI,CAAC,WAAW,EAAE;YAChB,OAAO;gBACL,SAAS,WAAA;gBACT,cAAc,gBAAA;gBACd,SAAS,WAAA;gBACT,WAAW,aAAA;aACZ,CAAC;SACH;QAED,OAAO;YACL,SAAS,EAAE,cAAc,CAAC,WAAW,EAAE,SAAS,CAAC;YACjD,cAAc,EAAE,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC;YAC3D,SAAS,EAAE,cAAc,CAAC,WAAW,EAAE,SAAS,CAAC;YACjD,WAAW,EAAE,cAAc,CAAC,WAAW,EAAE,WAAW,CAAC;SACtD,CAAC;IACJ,CAAC;IAED,OAAO,EAAE,YAAY,cAAA,EAAE,CAAC;AAC1B,CAAC","sourcesContent":["import { createSelector } from '@ngrx/store';\nimport { EntityState, EntitySelectors, Dictionary } from './models';\n\nexport function createSelectorsFactory<T>() {\n  function getSelectors(): EntitySelectors<T, EntityState<T>>;\n  function getSelectors<V>(\n    selectState: (state: V) => EntityState<T>\n  ): EntitySelectors<T, V>;\n  function getSelectors(\n    selectState?: (state: any) => EntityState<T>\n  ): EntitySelectors<T, any> {\n    const selectIds = (state: any) => state.ids;\n    const selectEntities = (state: EntityState<T>) => state.entities;\n    const selectAll = createSelector(\n      selectIds,\n      selectEntities,\n      (ids: T[], entities: Dictionary<T>): any =>\n        ids.map((id: any) => (entities as any)[id])\n    );\n\n    const selectTotal = createSelector(selectIds, ids => ids.length);\n\n    if (!selectState) {\n      return {\n        selectIds,\n        selectEntities,\n        selectAll,\n        selectTotal,\n      };\n    }\n\n    return {\n      selectIds: createSelector(selectState, selectIds),\n      selectEntities: createSelector(selectState, selectEntities),\n      selectAll: createSelector(selectState, selectAll),\n      selectTotal: createSelector(selectState, selectTotal),\n    };\n  }\n\n  return { getSelectors };\n}\n"]}